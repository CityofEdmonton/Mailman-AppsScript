!function(){var a={},b=function(b){for(var c=a[b],e=c.deps,f=c.defn,g=e.length,h=new Array(g),i=0;i<g;++i)h[i]=d(e[i]);var j=f.apply(null,h);if(void 0===j)throw"module ["+b+"] returned undefined";c.instance=j},c=function(b,c,d){if("string"!=typeof b)throw"module id must be a string";if(void 0===c)throw"no dependencies for "+b;if(void 0===d)throw"no definition function for "+b;a[b]={deps:c,defn:d,instance:void 0}},d=function(c){var d=a[c];if(void 0===d)throw"module ["+c+"] was undefined";return void 0===d.instance&&b(c),d.instance},e=function(a,b){for(var c=a.length,e=new Array(c),f=0;f<c;++f)e[f]=d(a[f]);b.apply(null,e)},f={};f.bolt={module:{api:{define:c,require:e,demand:d}}};var g=c,h=function(a,b){g(a,[],function(){return b})};g("1",[],function(){var a=function(b){var c=b,d=function(){return c},e=function(a){c=a},f=function(){return a(d())};return{get:d,set:e,clone:f}};return a}),h("5",tinymce.util.Tools.resolve),g("2",["5"],function(a){return a("tinymce.PluginManager")}),g("3",[],function(){var a=function(a){var b=function(){return a.get()};return{isContextMenuVisible:b}};return{get:a}}),g("6",["5"],function(a){return a("tinymce.util.Tools")}),g("7",[],function(){var a=function(a){return a.getParam("suggestions_open_delimiters","<<")};return{getDelimiters:a}}),g("8",["6"],function(a){var b=function(b,c,d){function e(){for(j=0;j<l;j++)n[j]=0;m=0}function f(a){n[m]=a,m++,m>=l&&(m=0)}function g(){n[m]=0,m--,m<0&&(m=n.length-1)}function h(a){var b=[],c=m-1,d=0;for(c==-1&&(c=l-1);d++<a;)c==l&&(c=0),b.unshift(n[c++]);return b}var i=c||["<<"],j=0;a.isArray(i)||(i=[i]);var k=i.map(function(a){return a.split("").map(function(a){return a.charCodeAt(0)})}),l=0,m=0;for(j=0;j<k.length;j++)k[j].length>l&&(l=k[j].length);var n=[];for(j=0;j<l;j++)n[j]=0;b.on("keydown",function(a){switch(a.which||a.keyCode){case 8:g();break;case 46:e()}}),b.on("keypress",function(a){f(a.which||a.keyCode);var c=null;for(j=0;j<i.length;j++){var e=k[j],g=1==e.length?[a.which||a.keyCode]:h(e.length);if(e.length==g.length){for(var l=!0,m=0;m<e.length;m++)if(e[m]!==g[m]){l=!1;break}l&&(c=e)}}c&&d({editor:b,delimiter:c,event:a})})};return{setup:b}}),g("9",[],function(){var a=function(a,b){a.fire("getSuggestions",{state:b})},b=function(a,b){var c={suggestion:b};return a.fire("suggestionSelected",c),c.suggestion};return{fireGetSuggestions:a,fireSuggestionSelected:b}}),g("c",["5"],function(a){return a("tinymce.Env")}),g("d",["5"],function(a){return a("tinymce.dom.DOMUtils")}),g("a",["c","d"],function(a,b){var c=function(a,b){return{x:a,y:b}},d=function(a,b,d){return c(a.x+b,a.y+d)},e=function(a){return c(a.pageX,a.pageY)},f=function(a){return c(a.clientX,a.clientY)},g=function(a,c){if(a&&"static"!==b.DOM.getStyle(a,"position",!0)){var e=b.DOM.getPos(a),f=e.x-a.scrollLeft,g=e.y-a.scrollTop;return d(c,-f,-g)}return d(c,0,0)},h=function(a,c){var e=b.DOM.getPos(a);return d(c,e.x,e.y)},i=function(b){return a.container},j=function(a,b){if(a.inline)return g(i(a),e(b));var c=h(a.getContentAreaContainer(),f(b));return g(i(a),c)};return{getPos:j}}),g("e",["5"],function(a){return a("tinymce.ui.Factory")}),g("b",["e","6","7","9"],function(a,b,c,d){var e=function(b,c,e){var f;return f=a.create("menu",{items:e,context:"contextmenu",classes:"contextmenu"}).renderTo(),f.on("hide",function(a){a.control===this&&c.set(!1)}),f.on("select",function(a){var c=(a.target||{}).text;"function"==typeof c&&(c=c.apply(a.target));var e=d.fireSuggestionSelected(b,c);"function"==typeof e.then?e.then(function(a){b.execCommand("mceInsertContent",!1,a)},function(a){throw a}):b.execCommand("mceInsertContent",!1,e)}),b.on("remove",function(){f.remove(),f=null}),f.setSuggestions=function(a){},f},f=function(a){var c=a;b.isArray(c)||(c=[c]);var d=[];return b.each(c,function(a){d.push({type:"menuitem",text:a})}),d},g=function(a,b,c,d,g){var h=f(g);null===d.get()?d.set(e(a,c,h)):(d.get().setSuggestions(h),d.get().show()),d.get().moveTo(b.x,b.y),c.set(!0)};return{show:g}}),g("4",["6","7","8","9","a","b"],function(a,b,c,d,e,f){var g=function(g,h,i){c.setup(g,b.getDelimiters(g),function(b){var c={suggestions:[]};d.fireGetSuggestions(g,c);var j=c.suggestions,k=g.selection.getNode().getBoundingClientRect(),l=a.extend(b.event,{clientX:k.left,clientY:k.top+k.height}),m=e.getPos(b.editor,l);"function"==typeof j.then?j.then(function(a){f.show(g,m,h,i,a)},function(a){throw a}):f.show(g,m,h,i,c.suggestions)})};return{setup:g}}),g("0",["1","2","3","4"],function(a,b,c,d){return b.add("suggestions",function(b){var e=a(null),f=a(!1);return d.setup(b,f,e),c.get(f)}),function(){}}),d("0")()}();